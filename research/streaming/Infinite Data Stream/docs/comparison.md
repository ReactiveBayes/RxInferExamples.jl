### Static vs Realtime: Why estimates coincide

In this example, both static and realtime modes implement the same Bayesian filtering computation over the same observation stream:

- Model: identical `@model` and `@constraints` (random-walk latent; unknown observation precision `Ï„`).
- Priors and updates: identical `@initialization` and `@autoupdates`.
- Data: identical sequence of observations generated by the same `Environment`.
- Optimization: same number of variational update iterations per time step (static: `iterations`, realtime: `rt_iterations`).

Because both modes consume the same data with the same update rules and state carryover (the autoupdates propagate `q(x_current)` to the next step), their posterior means for `x_current` should match step-by-step. In this refactor, the realtime runner also enables `keephistory` with `historyvars` to snapshot posteriors per step; plots and metrics use those history snapshots for alignment with the generated truth and observations. With this, the scatter plot of static vs realtime means lies on the line y=x.

When might they differ?
- Different iteration budgets, damping, or convergence criteria per step.
- Different streaming cadence causing backpressure, dropped samples, or timing-related truncation.
- Stochastic initialization per step or nondeterministic data generation (if RNG state is not controlled). Use `seed` (config or `IDS_SEED`) to fix the RNG.
- Different history retention or scheduling of updates.
 - When strict online FE is computed, realtime additionally logs `realtime_free_energy.csv/png/gif` from an online per-prefix inference; static FE is recomputed per-prefix offline. These are comparable but are not "mirrors" of each other by design.

What we check here:
- We compute MSE/MAE against truth separately for static and realtime and expect comparable values.
- We render `means_compare.png` and `scatter_static_vs_realtime.png` to visually confirm equivalence.
- Tests assert numerical equality within a small tolerance across overlapping indices.
 - We compare FE series if both are available via `free_energy_compare.png` and an optional composed animation.


